#+TITLE: Huawei MateBook X Pro — Touchpad Fix
#+AUTHOR: lszl84

* Problem

The Goodix GXTP7863 touchpad (=27C6:01E0=) connected via I2C HID occasionally
produces spurious clicks and erratic cursor movements after the laptop resumes
from suspend. The kernel logs show:

#+begin_example
i2c_hid_acpi i2c-GXTP7863:00: device returned incorrect report (255 vs 14 expected)
#+end_example

* Root Cause

The =goodixtp= fwupd plugin probes the touchpad periodically, which interferes
with its I2C communication and causes corrupt HID reports after resume.

Disabling the plugin eliminates the issue entirely. No custom kernel modules,
reload scripts, or systemd services are needed.

*Note:* disabling Intel Panel Self-Refresh (PSR) also helps with resume
reliability on this hardware — see [[https://github.com/lszl84/matebook-graphics][matebook-graphics]].

* Affected Hardware

- *Laptop:* Huawei MateBook X Pro (VGHH-XX)
- *Touchpad:* Goodix GXTP7863 (vendor =27C6=, product =01E0=)

May also affect other Huawei MateBook models with the same Goodix touchpad.

* Fix

Edit =/etc/fwupd/fwupd.conf= and add (or append to) =DisabledPlugins=:

#+begin_example
[fwupd]
DisabledPlugins=goodixtp
#+end_example

Then restart fwupd:

#+begin_src bash
sudo systemctl restart fwupd
#+end_src

* Previously

This repo previously contained a systemd service that reloaded the
=i2c_hid_acpi= kernel module after every resume. That workaround treated the
symptom; disabling the fwupd plugin addresses the root cause and makes the
service unnecessary.

* Tested On

- LMDE 7 (Gigi) / Debian Trixie, kernel 6.12.x
